{% extends "base.html" %}
{% load static %}

{% block title %}
    Bosh sahifa
{% endblock %}

{% block extra_css %}{% endblock  %}
{% block extra_css2 %}{% endblock  %}
{% block extra_css_admin %}{% endblock %}
{% block content %}
  <main class="main">

    <!-- Hero Section -->
    <section id="home" class="hero section light-background">
      <div class="container">
        <!-- Modal for card details -->
        <div class="modal fade" id="cardDetailModal" tabindex="-1" aria-labelledby="cardDetailModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="cardDetailModalLabel">Yangilik tafsilotlari</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body" id="cardDetailModalBody">
                <!-- Card info will be injected here -->
              </div>
            </div>
          </div>
        </div>
        <div class="row gy-4 justify-content-center justify-content-lg-center align-items-center">
          <div class="col-lg-5 order-2 order-lg-1 d-flex flex-column justify-content-center align-items-center align-items-lg-start">
            <h3>Hujjat kiriting</h3>
            <form action="{% url 'upload' %}" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="upload-section" id="uploadSection">
                    <label class="custom-file-upload5">
                        <input type="file" name="uploade_file" id="fileInput" />
                        File
                    </label>
                </div>

                <div class="action-section" id="actionSection">
                    <div class="filename" id="fileName">fayl.pdf</div>
                    <button type="submit" class="submit-btn">Jo'nat</button>
                    <div class="delete-btn" id="deleteBtn">Ã—</div>
                </div>
            </form>

            {% if  request.GET.uploaded %}
            <script>
              alert("Fayl muvaffaqiyatli yuborildi!");
            </script>
            {% endif %}

          </div>
          <div class="col-lg-5 order-1 order-lg-2 hero-img d-flex justify-content-center align-items-center" data-aos="zoom-out">
            <img src="{% static 'assets/img/ChatGPT Image Aug 31, 2025, 01_04_40 PM.png' %}" class="img-fluid animated hero-main-img" alt="" loading="lazy">
          </div>
        </div>
      </div>

    </section><!-- /Hero Section -->

    <!-- Application Section -->
    <section id="aplication" class="chefs section">

      <!-- Section Title -->
      <div class="container section-title" data-aos="fade-up">
        <p data-txt="apliCation" style="color: #000;">Arizalarim</p>
        <h5>hozircha ariza yo'q</h5>
      </div><!-- End Section Title -->
      <!-- Arizalrim  section -->
      <div class="container">
        <div class="row gy-4">

        </div>
      </div>
      <!-- end arizlarim -->
    </section>

    <!-- News Section -->
    <section id="news" class="about section">
      <div class="container section-title" data-aos="fade-up">
        <h2><span data-txt="aboutTitle">Yangiliklar</span></h2>
        <p><span data-txt="aboutSubtitle">So'ngi yangiliklar</span></p>
      </div>
      <div class="container">
        <div class="swiper about-swiper">
          <div class="swiper-wrapper" id="news-cards-wrapper">
            
            <div class="swiper-slide">
              {% for i in news_list %}
                <div class="card news-card h-100 p-2">
                  <img src="{{ i.image.url}}" class="card-img-top" alt="Yangilik 1" loading="lazy">
                  <div class="card-body p-2">
                    <h6 class="card-title mb-1 card-title-full">{{ i.title}}</h6>
                    <p class="card-text mb-0 card-preview">{{ i.subtitle}}</p>
                    <p class="card-text mb-0 card-full">{{i.description}}</p>
                  </div>
                </div>
              {% endfor %}
              
            </div>
          </div>
          <div class="swiper-pagination"></div>
          <div class="swiper-button-prev"></div>
          <div class="swiper-button-next"></div>
        </div>
      </div>
    </section>

    <!-- Menu Section -->
    <section id="Selections" class="menu section">
      <div class="container">
        <div class="section-title text-center">
          <h2><span data-txt="menuTitle">Tanlovlar</span></h2>
          <p><span class="description-title" data-txt="menuSubtitle" style="color: black;">Yangi tanlovlar ro'yxati</span></p>
        </div>
        <div class="row gy-4" id="selections-list">
          <!-- Har qatorda maksimal 4 ta card, 5-chi pastki qatordan chiqadi -->
          <div class="col-12 col-sm-6 col-md-4 col-lg-3">
            {% for post_comp in competition_list %}
            <div class="card h-100 shadow-sm">
              <img src="assets/img/menu/menu-item-1.png" class="card-img-top" alt="Tanlov rasmi" loading="lazy">
              <div class="card-body d-flex flex-column">
                <h5 class="card-title">{{ post_comp.title}}</h5>
                <p class="card-text">{{ post_comp.description}}.</p>
                <a href="#" class="btn btn-primary mt-auto">Batafsil</a>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </section><!-- /Menu Section -->
  </main>

{% endblock  %}